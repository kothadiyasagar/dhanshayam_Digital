{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\dhanshayam_Digital\\\\client\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button, Row, Col, Form, Input, Select } from 'antd';\nimport List from './list.jsx';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\n\nconst App = () => {\n  _s();\n\n  const [categories, setCategories] = useState([]);\n  const [selectS, setselect] = useState(\"\");\n  useEffect(() => {\n    getCategories();\n  }, []);\n\n  const getCategories = async () => {\n    const data = await fetch('http://localhost:8085/categories');\n    const categories = await data.json();\n    setCategories(categories);\n  };\n\n  const createNewCategory = async formValues => {\n    // console.log(formValues,\"sagar\")\n    await fetch('http://localhost:8085/categories', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(formValues)\n    });\n    await getCategories();\n  };\n\n  const categoryOpts = categories.map((category, index) => /*#__PURE__*/_jsxDEV(Option, {\n    value: category._id,\n    children: category.name\n  }, `cat-option-${index}`, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 60\n  }, this));\n  const rootCategory = categories.find(category => {\n    var _category$_id;\n\n    return (category === null || category === void 0 ? void 0 : (_category$_id = category._id) === null || _category$_id === void 0 ? void 0 : _category$_id.toString()) === '62bfd4c158c0a636474a8b7f';\n  }); // console.log(rootCategory)\n\n  const renderItem = item => /*#__PURE__*/_jsxDEV(\"li\", {\n    onClick: () => setselect(item._id),\n    children: item.name\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 32\n  }, this);\n\n  const renderListItems = category => {\n    var _category$subCategori;\n\n    return category === null || category === void 0 ? void 0 : (_category$subCategori = category.subCategories) === null || _category$subCategori === void 0 ? void 0 : _category$subCategori.map(subCategory => {\n      const matchedCategory = typeof subCategory === 'object' ? subCategory : categories.find(cat => {\n        var _cat$_id;\n\n        return ((_cat$_id = cat._id) === null || _cat$_id === void 0 ? void 0 : _cat$_id.toString()) === (subCategory === null || subCategory === void 0 ? void 0 : subCategory.toString());\n      }); // console.log({ matchedCategory })\n\n      return !matchedCategory.subCategories.length ? renderItem(matchedCategory) : /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: () => setselect(matchedCategory._id),\n        children: [matchedCategory.name, /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: renderListItems(matchedCategory)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  const renderedCategories = /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: renderListItems(rootCategory)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 30\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        span: 12,\n        style: {\n          display: '',\n          height: '100vh',\n          marginTop: '100px',\n          textAlign: \"start\",\n          marginLeft: \"100px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Category list\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: renderedCategories\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 10,\n        style: {\n          display: '',\n          height: '100vh',\n          marginTop: '100px',\n          textAlign: \"start\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Add new user\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          style: {\n            width: '90%'\n          },\n          onFinish: createNewCategory,\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"Name\",\n            name: \"name\",\n            rules: [{\n              required: true\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"Category\",\n            name: \"parent\",\n            rules: [{\n              required: true\n            }],\n            children: /*#__PURE__*/_jsxDEV(Select, {\n              valu: selectS,\n              children: categoryOpts\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              htmlType: \"submit\",\n              children: \"Add New\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"CTYKD4LIfaapwFlJGcPAylZv+nQ=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","Button","Row","Col","Form","Input","Select","List","Option","App","categories","setCategories","selectS","setselect","getCategories","data","fetch","json","createNewCategory","formValues","method","headers","body","JSON","stringify","categoryOpts","map","category","index","_id","name","rootCategory","find","toString","renderItem","item","renderListItems","subCategories","subCategory","matchedCategory","cat","length","renderedCategories","display","height","marginTop","textAlign","marginLeft","width","required"],"sources":["C:/Users/LENOVO/Desktop/dhanshayam_Digital/client/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Button, Row, Col, Form, Input, Select,  } from 'antd'\r\nimport List from './list.jsx';\r\nimport './App.css';\r\nconst { Option } = Select\r\n\r\nconst App = () => {\r\n  const [categories, setCategories] = useState([])\r\n  const[selectS , setselect] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    getCategories()\r\n  }, [])\r\n\r\n  const getCategories = async () => {\r\n    const data = await fetch('http://localhost:8085/categories')\r\n    const categories = await data.json()\r\n    setCategories(categories)\r\n  }\r\n\r\n  const createNewCategory = async (formValues) => {\r\n    // console.log(formValues,\"sagar\")\r\n    await fetch('http://localhost:8085/categories', {\r\n      method: 'post',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(formValues)\r\n    })\r\n    await getCategories()\r\n  }\r\n\r\n  const categoryOpts = categories.map((category, index) => <Option key={`cat-option-${index}`} value={category._id}>\r\n    {category.name}\r\n  </Option>)\r\n\r\n  const rootCategory = categories.find((category) => category?._id?.toString() === '62bfd4c158c0a636474a8b7f')\r\n  // console.log(rootCategory)\r\n\r\n  const renderItem = (item) => <li  onClick={()=>setselect(item._id)}>{item.name}</li>\r\n\r\n  const renderListItems = (category) => {\r\n    return category?.subCategories?.map((subCategory) => {\r\n      const matchedCategory = typeof subCategory === 'object' ? subCategory : categories.find((cat) => cat._id?.toString() === subCategory?.toString())\r\n      // console.log({ matchedCategory })\r\n      return !matchedCategory.subCategories.length ? renderItem(matchedCategory) :\r\n        <li onClick={()=>setselect(matchedCategory._id)}>\r\n          {matchedCategory.name}\r\n          <ul>\r\n            {renderListItems(matchedCategory)}\r\n          </ul>\r\n        </li>\r\n    })\r\n  }\r\n\r\n  const renderedCategories = <ul>{renderListItems(rootCategory)}</ul>\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Row>\r\n        <Col span={12}  style={{ display: '', height: '100vh', marginTop: '100px',textAlign:\"start\",marginLeft:\"100px\" }}>\r\n          <h1>Category list</h1>\r\n          <ul>\r\n            {\r\n              renderedCategories\r\n            }\r\n          </ul>\r\n        </Col>\r\n        \r\n        <Col span={10} style={{ display: '', height: '100vh', marginTop: '100px',textAlign:\"start\" }}>\r\n        <h1>Add new user</h1>\r\n          <Form style={{ width: '90%' }} onFinish={createNewCategory}>\r\n            <Form.Item label='Name' name='name' rules={[{ required: true }]}>\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item label='Category' name='parent' rules={[{ required: true }]}>\r\n              <Select   valu={selectS} >\r\n                {categoryOpts}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Button type=\"primary\" htmlType=\"submit\">Add New</Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n      {/* <List  categories={categories} /> */}\r\n    </div>\r\n   \r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}